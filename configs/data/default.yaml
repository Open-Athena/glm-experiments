_target_: glm_experiments.data.dna_datamodule.DNADataModule

# Dataset and tokenizer (override in specific configs)
dataset_name: data/gpn-animal-promoter-dataset
tokenizer_name: gonzalobenegas/tokenizer-dna-mlm

# Batch size (total across all devices, will be divided by world_size)
batch_size: 32
num_workers: 4
pin_memory: true

# MLM parameters
mlm_probability: 0.15 # Standard BERT masking (15% of tokens)

# Soft masking for genomic soft-masked regions (lowercase nucleotides)
soft_masked_loss_weight_train: 0.01 # Low weight for soft-masked regions during training
soft_masked_loss_weight_eval: 0.0 # No weight for soft-masked regions during eval

# Data augmentation
data_augmentation: true # Reverse complement augmentation (training only)

# Reproducibility
seed: 42

# Evaluation datasets (optional)
# Set evals: null to disable all evals, or configure specific evals below
evals:
  traitgym_mendelian_promoter:
    dataset_name: songlab/TraitGym
    dataset_config: mendelian_traits
    genome_url: https://ftp.ensembl.org/pub/release-115/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna_sm.toplevel.fa.gz
    genome_path: data/Homo_sapiens.GRCh38.dna_sm.toplevel.fa.gz
    window_size: 512
    batch_size: 128
